sudo apt install python3-flask
pip install cs50
pip install Flask
pip install Flask-Session
pip install Werkzeug

открыл порт 5000 на windows
в powershell netsh interface portproxy add v4tov4 listenaddress=0.0.0.0 listenport=5000 connectaddress=172.18.219.234 connectport=5000 прокинул порт
pip install flask-shell

curl -X GET "https://api.themoviedb.org/3/movie/popular?api_key=eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI2OWM2YjkzNjI4NzJmOGI3ZDk4ZWZmZWM1YmFkZGRkNiIsIm5iZiI6MTczMTc3NTk2MC41NzA4NDA0LCJzdWIiOiI2NzFkZmY1Nzc2OTEwN2Q3N2I0ODA5MmMiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.GeVRHqoKThIpLXc5r5JUFAoLUELX6AwRf2SONNQ2oaQ&language=en-US&page=1"

curl -X GET "https://api.themoviedb.org/3/movie/popular?api_key=69c6b9362872f8b7d98effec5badddd6&language=en-US&page=1"

curl -x https://eWSWGwq8:dWAf82nT@142.252.107.240:63690 https://api.themoviedb.org/3/movie/popular?api_key=69c6b9362872f8b7d98effec5badddd6&language=en-US&page=1


curl -x socks5h://142.252.107.240:63691 --proxy-user eWSWGwq8:dWAf82nT "https://api.themoviedb.org/3/movie/popular?api_key=69c6b9362872f8b7d98effec5badddd6&language=en-US&page=1"


curl.exe -x socks5h://166.1.128.144:64045 --proxy-user eWSWGwq8:dWAf82nT "https://api.themoviedb.org/3/movie/popular?api_key=69c6b9362872f8b7d98effec5badddd6&language=en-US&page=1"

curl.exe -x http://166.1.128.144:64044 --proxy-user eWSWGwq8:dWAf82nT "https://api.themoviedb.org/3/movie/popular?api_key=69c6b9362872f8b7d98effec5badddd6&language=en-US&page=1"

curl.exe -x https://166.1.128.144:64044 --proxy-user eWSWGwq8:dWAf82nT "https://api.themoviedb.org/3/movie/popular?api_key=69c6b9362872f8b7d98effec5badddd6&language=en-US&page=1"



#@app.route('/random_movie_curl', methods=['GET'])
#def random_movie_curl():
#    page = random.randint(1, 20)
#
#    curl_command = [
#        "curl", 
#        "-x", PROXY,  # Прокси-сервер
#        f"{TMDB_API_URL}/movie/popular?api_key={TMDB_API_KEY}&language=en-US&page={page}"  # Параметры запроса
#    ]
#
#    try:
#        result = subprocess.run(curl_command, capture_output=True, text=True, check=True)
#
#        movies_data = json.loads(result.stdout)
#        movies = movies_data.get('results', [])
#
#        if movies:
#            random_movie = random.choice(movies)  # Случайный фильм из полученного списка
#            return jsonify(random_movie)  # Отправляем случайный фильм в формате JSON
#        else:
#            return jsonify({'error': 'No movies found'}), 404
#
#    except subprocess.CalledProcessError as e:
#        return jsonify({'error': f'Error executing curl: {e.stderr}'}), 500
#